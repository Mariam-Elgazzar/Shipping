<div class="branches-add-container">
    <div class="header">
      <h2>
        <mat-icon>add</mat-icon>
        Add Branch
      </h2>
      <button mat-stroked-button class="btn-back" (click)="router.navigate(['/branches'])">
        <mat-icon>arrow_back</mat-icon> Back to List
      </button>
    </div>
  
    <form [formGroup]="branchForm" (ngSubmit)="onSubmit()" *ngIf="!isLoading; else loading">
      <div class="form-grid">
        <!-- Branch Information -->
        <div class="form-group">
          <label for="name">Branch Name*</label>
          <mat-form-field appearance="outline" class="full-width">
            <input matInput id="name" formControlName="name" required>
            <mat-error *ngIf="branchForm.get('name')?.hasError('required')">
              Branch Name is required
            </mat-error>
            <mat-error *ngIf="branchForm.get('name')?.hasError('minlength')">
              Branch Name must be at least 3 characters
            </mat-error>
          </mat-form-field>
        </div>
  
        <div class="form-group">
          <label for="status">Status*</label>
          <mat-form-field appearance="outline" class="full-width">
            <mat-select id="status" formControlName="status" required>
              <mat-option value="">Select Status</mat-option>
              <mat-option value="true">Active</mat-option>
              <mat-option value="false">Inactive</mat-option>
            </mat-select>
            <mat-error *ngIf="branchForm.get('status')?.hasError('required')">
              Status is required
            </mat-error>
          </mat-form-field>
        </div>
      </div>
  
      <div class="form-actions">
        <button mat-stroked-button type="button" class="btn-cancel" (click)="cancel()">Cancel</button>
        <button mat-raised-button color="primary" type="submit" [disabled]="branchForm.invalid || isLoading">
          {{ isLoading ? 'Adding...' : 'Add Branch' }}
        </button>
      </div>
    </form>
  
    <ng-template #loading>
      <div class="loading-spinner">
        <mat-spinner diameter="40"></mat-spinner>
        <span>Loading...</span>
      </div>
    </ng-template>
  </div>
